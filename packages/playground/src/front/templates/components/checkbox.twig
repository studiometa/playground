{#
/**
 * @file
 *   Checkbox
 *
 * @description
 *   Displays a checkbox input.
 *
 * @param {array}  $attr       Attributes for the root element.
 * @param {array}  $input_attr Attributes for the input element.
 * @param {string} $label      Label for the input element.
 * @block {string} $label      Label for the input element.
 */
#}

{% set attributes =
  merge_html_attributes(
    attr ?? null,
    {},
    {
      class: 'relative focus-within:z-10'
    }
  )
%}

{% set input_attributes =
  merge_html_attributes(
    input_attr ?? null,
    {},
    {
      type: 'checkbox',
      class: 'peer sr-only'
    }
  )
%}

{% set bg_attributes =
  merge_html_attributes(
    bg_attr ?? null,
    {
      class: 'rounded'
    },
    {
      class: 'absolute -inset-1 inset-x-0 block bg-blue-300 dark:bg-blue-800 bg-opacity-0 dark:bg-opacity-0 peer-checked:bg-opacity-100 peer-focus:ring ring-blue-500 dark:ring-blue-600'
    }
  )
%}

<label {{ html_attributes(attributes) }}>
  <input {{ html_attributes(input_attributes) }} />
  <span {{ html_attributes(bg_attributes) }}></span>
  <span class="relative inline-block px-2 peer-checked:text-blue-900 dark:peer-checked:text-white text-xs tracking-tighter sm:tracking-normal font-semibold">
    {% block label %}
      {{ label }}
    {% endblock %}
  </span>
</label>
