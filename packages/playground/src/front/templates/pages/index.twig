{% extends '@pkg-layouts/default.twig' %}

{% set html_attr =
  merge_html_attributes(
    html_attr ?? null,
    {},
    {
      class: 'fixed inset-0'
    }
  )
%}

{% set defaults = defaults ?? {} %}

{% set body_attr =
  merge_html_attributes(
    body_attr ?? null,
    {},
    {
      class: 'fixed inset-0 group dark:bg-zinc-900 dark:text-white',
      data_option_html: defaults.html ?? '',
      data_option_style: defaults.style ?? '',
      data_option_script: defaults.script ?? ''
    }
  )
%}

{% set default_header_title %}
  <span class="font-bold">Playground</span>
{% endset %}

{% set header =
  {
    title: default_header_title
  }|merge(header ?? {})
%}

{% block head_after %}
  <script>
    {# prettier-ignore-start #}
    (() => {
      const { hash } = window.location;
      document.documentElement.classList.toggle('is-embed', hash.includes('embed=true'));
      document.documentElement.classList.toggle('has-header', !hash.includes('header=hidden'));
    })();
    {# prettier-ignore-end #}
  </script>
{% endblock %}

{% block body %}
  <div class="fixed top-0 left-0 w-full h-full">
    <div class="z-50 fixed top-0 right-0 flex gap-2 items-center h-10 sm:h-12 p-2 sm:p-4 leading-4">
      {% include '../components/header-switcher.twig' %}
      {% include '../components/embed-btn.twig' %}
    </div>
    {% include '../components/header.twig' with header %}
    {% include '../components/main.twig' %}
  </div>
{% endblock %}
